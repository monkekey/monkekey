webpackJsonp([18],{"+6B7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("NYxO"),s=a("ZA0d"),i=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={name:"form",created:function(){this.id=this.$route.params.id,this.formValidate.innCode=this.$route.query.innCode||"",this.id&&this.get(this.id)},data:function(){return{uploadurl:i.default.API_URL+"/file/uploadFile",uploadparam:{fileType:"service"},channels:i.default.CHANNEL,platformgroup:[],id:"",formValidate:{serviceName:"",serviceDesc:"",serviceUrl:"",serviceIconUrl:"",sort:0},ruleValidate:{serviceName:[{required:!0,message:"服务名称不能为空"},{max:20,message:"服务名称不能多于 20 个字"}],serviceDesc:[{required:!0,message:"服务描述不能为空"},{max:100,message:"服务描述不能多于 100 个字"}],sort:[{required:!0,type:"number",message:"排序需要是数字",transform:function(e){return parseInt(e)}}]}}},methods:{get:function(e){this.$store.dispatch("getService",{uri:e})},handleSave:function(){var e=this;e.$refs.formValidate.validate(function(t){if(t){var a=e.id?"putService":"postService",r=e.id;e.$store.dispatch(a,{uri:r,data:e.formValidate}).then(function(){e.$Message.success((e.id?"编辑":"新增")+"成功！"),!e.id&&e.resetFields()})}})},uploadSuccess:function(e,t){e.success&&(this.$set(this.formValidate,"serviceUrl",e.data),this.$set(this.formValidate,"serviceIconUrl",i.default.STATIC_URL+"/service/"+e.data))},checkAllGroupChange:function(e){this.$set(this.formValidate,"platform",e.join("GG"))},resetFields:function(){this.$refs.formValidate.resetFields()}},computed:(0,r.mapState)(["service"]),watch:{"service.service":{handler:function(e){this.$set(this,"formValidate",e.data),e.data.serviceUrl&&this.$set(this.formValidate,"serviceIconUrl",i.default.STATIC_URL+"/service/"+e.data.serviceUrl)}}}}},"9WxH":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Breadcrumb",{staticStyle:{display:"flex","padding-bottom":"20px"}},[a("Breadcrumb-item",{attrs:{href:"/"}},[e._v("首页")]),e._v(" "),a("Breadcrumb-item",{attrs:{href:"#"}},[e._v("服务设置")]),e._v(" "),a("Breadcrumb-item",{attrs:{href:"/services"}},[e._v("服务列表")]),e._v(" "),a("Breadcrumb-item",[e._v("账号"+e._s(e.id?"编辑":"新增"))])],1),e._v(" "),a("div",[a("Row",[a("Col",{attrs:{span:"12"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"服务名称",prop:"serviceName"}},[a("Input",{attrs:{placeholder:"请输入名称"},model:{value:e.formValidate.serviceName,callback:function(t){e.formValidate.serviceName=t},expression:"formValidate.serviceName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"服务描述",prop:"serviceDesc"}},[a("Input",{attrs:{placeholder:"请输入描述"},model:{value:e.formValidate.serviceDesc,callback:function(t){e.formValidate.serviceDesc=t},expression:"formValidate.serviceDesc"}})],1),e._v(" "),a("FormItem",{attrs:{label:"排序",prop:"sort"}},[a("Input",{attrs:{placeholder:"请输入排序"},model:{value:e.formValidate.sort,callback:function(t){e.formValidate.sort=t},expression:"formValidate.sort"}})],1),e._v(" "),a("Form-item",[a("Button",{staticClass:"margin-right-sm",attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存")]),e._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:function(t){e.$router.back(-1)}}},[e._v("返回")])],1)],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("img",{staticClass:"avatar",attrs:{src:e.formValidate.serviceIconUrl}}),e._v(" "),a("Upload",{attrs:{action:e.uploadurl,accept:"image/*",name:"uploadingFile",data:e.uploadparam,"max-size":10240,"on-success":e.uploadSuccess,"show-upload-list":!1}},[a("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[e._v("上传头像")])],1)],1)],1)],1)],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},"AAG/":function(e,t,a){var r=a("umQ1");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("036aa242",r,!0)},hP0q:function(e,t,a){"use strict";function r(e){a("AAG/")}Object.defineProperty(t,"__esModule",{value:!0});var s=a("+6B7"),i=a.n(s),o=a("9WxH"),c=a("VU/8"),l=r,n=c(i.a,o.a,l,null,null);t.default=n.exports},umQ1:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".avatar{width:200px;height:200px;background:#fff;border-radius:2px}","",{version:3,sources:["E:/Bee/YumiButler.git/WebUI/src/app/Services/Form/index.vue"],names:[],mappings:"AACA,QACE,YAAa,AACb,aAAc,AACd,gBAAoB,AACpB,iBAAmB,CACpB",file:"index.vue",sourcesContent:["\n.avatar {\n  width: 200px;\n  height: 200px;\n  background: #ffffff;\n  border-radius: 2px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=18.6faf7628b6dcf52a047d.js.map