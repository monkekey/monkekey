webpackJsonp([22],{"0z2N":function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("Breadcrumb",{staticStyle:{display:"flex","padding-bottom":"20px"}},[t("Breadcrumb-item",{attrs:{href:"/"}},[e._v("首页")]),e._v(" "),t("Breadcrumb-item",{attrs:{href:"#"}},[e._v("账号管理")]),e._v(" "),t("Breadcrumb-item",{attrs:{href:"/accounts"}},[e._v("账号列表")]),e._v(" "),t("Breadcrumb-item",[e._v("账号"+e._s(e.id?"编辑":"新增"))])],1),e._v(" "),t("div",[t("Row",[t("Col",{attrs:{span:"12"}},[t("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[t("FormItem",{attrs:{label:"账号",prop:"account"}},[e.id?t("Input",{attrs:{placeholder:"请输入账号",disabled:""},model:{value:e.formValidate.account,callback:function(a){e.formValidate.account=a},expression:"formValidate.account"}}):e._e(),e._v(" "),e.id?e._e():t("Input",{attrs:{placeholder:"请输入账号"},model:{value:e.formValidate.account,callback:function(a){e.formValidate.account=a},expression:"formValidate.account"}})],1),e._v(" "),t("FormItem",{attrs:{label:"名称",prop:"name"}},[t("Input",{attrs:{placeholder:"请输入名称"},model:{value:e.formValidate.name,callback:function(a){e.formValidate.name=a},expression:"formValidate.name"}})],1),e._v(" "),t("FormItem",{attrs:{label:"所属分店",prop:"innCode"}},[t("Select",{attrs:{placeholder:"请选择输入门店",filterable:""},model:{value:e.formValidate.innCode,callback:function(a){e.formValidate.innCode=a},expression:"formValidate.innCode"}},e._l(e.inn.allinns,function(a){return t("Option",{key:a.code,attrs:{value:a.code}},[e._v(e._s(a.name))])}))],1),e._v(" "),t("FormItem",{attrs:{label:"性别",prop:"sex"}},[t("RadioGroup",{model:{value:e.formValidate.sex,callback:function(a){e.formValidate.sex=a},expression:"formValidate.sex"}},[t("Radio",{attrs:{label:"M"}},[e._v("男")]),e._v(" "),t("Radio",{attrs:{label:"F"}},[e._v("女")])],1)],1),e._v(" "),t("FormItem",{attrs:{label:"出生年月",prop:"birthDay"}},[t("DatePicker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.formValidate.birthDay,callback:function(a){e.formValidate.birthDay=a},expression:"formValidate.birthDay"}})],1),e._v(" "),t("FormItem",{attrs:{label:"手机",prop:"mobile"}},[t("Input",{attrs:{placeholder:"请输入手机"},model:{value:e.formValidate.mobile,callback:function(a){e.formValidate.mobile=a},expression:"formValidate.mobile"}})],1),e._v(" "),t("FormItem",{attrs:{label:"性格",prop:"nature"}},[t("Input",{attrs:{placeholder:"请输入性格"},model:{value:e.formValidate.nature,callback:function(a){e.formValidate.nature=a},expression:"formValidate.nature"}})],1),e._v(" "),t("FormItem",{attrs:{label:"特长",prop:"specialty"}},[t("Input",{attrs:{placeholder:"请输入特长"},model:{value:e.formValidate.specialty,callback:function(a){e.formValidate.specialty=a},expression:"formValidate.specialty"}})],1),e._v(" "),t("Form-item",[t("Button",{staticClass:"margin-right-sm",attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存")]),e._v(" "),t("Button",{attrs:{type:"ghost"},on:{click:function(a){e.$router.back(-1)}}},[e._v("返回")])],1)],1)],1),e._v(" "),t("Col",{attrs:{span:"12"}},[t("img",{staticClass:"avatar",attrs:{src:e.formValidate.facesurl}}),e._v(" "),t("Upload",{attrs:{action:e.uploadurl,accept:"image/*",name:"uploadingFile",data:e.uploadparam,"max-size":10240,"on-success":e.uploadSuccess,"show-upload-list":!1}},[t("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[e._v("上传头像")])],1)],1)],1)],1)],1)},i=[],o={render:r,staticRenderFns:i};a.a=o},8864:function(e,a,t){a=e.exports=t("FZ+f")(!0),a.push([e.i,".avatar{width:200px;height:280px;background:#fff;border-radius:2px}","",{version:3,sources:["E:/Bee/YumiButler.git/WebUI/src/app/Accounts/Form/index.vue"],names:[],mappings:"AACA,QACE,YAAa,AACb,aAAc,AACd,gBAAoB,AACpB,iBAAmB,CACpB",file:"index.vue",sourcesContent:["\n.avatar {\n  width: 200px;\n  height: 280px;\n  background: #ffffff;\n  border-radius: 2px;\n}\n"],sourceRoot:""}])},"8Plo":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("NYxO"),i=t("ZA0d"),o=function(e){return e&&e.__esModule?e:{default:e}}(i);a.default={name:"form",created:function(){this.id=this.$route.params.id,this.formValidate.innCode=this.$route.query.innCode||"",this.id&&this.get(this.id)},data:function(){return{uploadurl:o.default.API_URL+"/file/uploadFile",uploadparam:{fileType:"userHead"},channels:o.default.CHANNEL,platformgroup:[],id:"",formValidate:{account:"",name:"",innCode:"",faces:"",facesurl:"static/images/yumi_logo.png",sex:"F",birthDay:"",mobile:"",nature:"",specialty:""},ruleValidate:{account:[{required:!0,message:"账号不能为空"},{max:20,message:"标题不能多于 20 个字"}],name:[{required:!0,message:"姓名不能为空"},{max:20,message:"密码不能多于 20 个字"}],innCode:[{required:!0,message:"所属分店不能为空"},{max:20,message:"所属分店不能多于 20 个字"}],sex:[{required:!0,type:"string",message:"请选择性别",trigger:"change"}],birthDay:[{required:!0,type:"date",message:"请选择日期",trigger:"change"}]}}},methods:{get:function(e){this.$store.dispatch("getAccount",{uri:e})},handleSave:function(){var e=this;e.$refs.formValidate.validate(function(a){if(a){var t=e.id?"putAccount":"postAccount",r=e.id;e.formValidate.sysroleList=[],e.$store.dispatch(t,{uri:r,data:e.formValidate}).then(function(){e.$Message.success((e.id?"编辑":"新增")+"成功！"),!e.id&&e.resetFields()})}})},uploadSuccess:function(e,a){e.success&&(this.$set(this.formValidate,"faces",e.data),this.$set(this.formValidate,"facesurl",o.default.STATIC_URL+"/userHead/"+e.data))},checkAllGroupChange:function(e){this.$set(this.formValidate,"platform",e.join("GG"))},resetFields:function(){this.$refs.formValidate.resetFields()}},computed:(0,r.mapState)(["account","inn"]),watch:{"account.account":{handler:function(e){this.$set(this,"formValidate",e.data),e.data.birthDay&&this.$set(this.formValidate,"birthDay",new Date(e.data.birthDay)),e.data.faces&&this.$set(this.formValidate,"facesurl",o.default.STATIC_URL+"/userHead/"+e.data.faces)}}}}},Rg80:function(e,a,t){"use strict";function r(e){t("btLu")}Object.defineProperty(a,"__esModule",{value:!0});var i=t("8Plo"),o=t.n(i),l=t("0z2N"),s=t("VU/8"),n=r,d=s(o.a,l.a,n,null,null);a.default=d.exports},btLu:function(e,a,t){var r=t("8864");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("1903a644",r,!0)}});
//# sourceMappingURL=22.4d90024a9ad8936507bc.js.map