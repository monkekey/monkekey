webpackJsonp([12],{"/dsf":function(e,t,n){var o=n("IH+K");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("578a2619",o,!0)},"/z6n":function(e,t,n){var o=n("P39u");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("5a0cecc7",o,!0)},"0IXL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("spkz"),a=n.n(o),i=n("tjh8"),s=n("VU/8"),r=s(a.a,i.a,null,null,null);t.default=r.exports},"1e6j":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"header"},[e._t("default")],2)},a=[],i={render:o,staticRenderFns:a};t.a=i},"1jv+":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"operations"},[e._t("default")],2)},a=[],i={render:o,staticRenderFns:a};t.a=i},"85mc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("ZA0d"),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={name:"list",props:{current:{type:Number,default:1},columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},total:{type:Number,default:0}},data:function(){return{consts:a.default,selection:[]}},methods:{handleSectionChange:function(e){this.$set(this,"selection",e)},handlePageChange:function(e){this.$emit("on-change",e)}}}},"9k9c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"header"}},Bxsl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"search"}},FIsv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"operations"}},"IH+K":function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,".search[data-v-d01f8cc8]{position:absolute;min-width:300px;right:-10px;top:0}","",{version:3,sources:["E:/Bee/YumiButler.git/WebUI/src/components/List/components/Search/theme/styles/index.scss"],names:[],mappings:"AACA,yBACE,kBAAmB,AACnB,gBAAiB,AACjB,YAAa,AACb,KAAO,CACR",file:"index.scss",sourcesContent:["\n.search[data-v-d01f8cc8] {\n  position: absolute;\n  min-width: 300px;\n  right: -10px;\n  top: 0;\n}\n"],sourceRoot:""}])},M8OQ:function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,".header[data-v-8858c77e]{position:relative;height:48px}","",{version:3,sources:["E:/Bee/YumiButler.git/WebUI/src/components/List/components/Header/theme/styles/index.scss"],names:[],mappings:"AACA,yBACE,kBAAmB,AACnB,WAAa,CACd",file:"index.scss",sourcesContent:["\n.header[data-v-8858c77e] {\n  position: relative;\n  height: 48px;\n}\n"],sourceRoot:""}])},NrSf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("85mc"),a=n.n(o),i=n("nDj1"),s=n("VU/8"),r=s(a.a,i.a,null,null,null);t.default=r.exports},P39u:function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,".operations[data-v-74219260]{position:absolute;min-width:300px;left:0;top:0}","",{version:3,sources:["E:/Bee/YumiButler.git/WebUI/src/components/List/components/Operations/theme/styles/index.scss"],names:[],mappings:"AACA,6BACE,kBAAmB,AACnB,gBAAiB,AACjB,OAAQ,AACR,KAAO,CACR",file:"index.scss",sourcesContent:["\n.operations[data-v-74219260] {\n  position: absolute;\n  min-width: 300px;\n  left: 0;\n  top: 0;\n}\n"],sourceRoot:""}])},TYjk:function(e,t,n){"use strict";function o(e){n("/dsf")}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Bxsl"),i=n.n(a),s=n("arap"),r=n("VU/8"),c=o,l=r(i.a,s.a,c,"data-v-d01f8cc8",null);t.default=l.exports},arap:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"search"},[e._t("default")],2)},a=[],i={render:o,staticRenderFns:a};t.a=i},bhzL:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ListSearch=t.ListOperations=t.ListHeader=void 0;var a=n("NrSf"),i=o(a),s=n("rJY2"),r=o(s),c=n("omjG"),l=o(c),d=n("TYjk"),u=o(d);t.ListHeader=r.default,t.ListOperations=l.default,t.ListSearch=u.default,t.default=i.default},nDj1:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default"),e._v(" "),n("Table",{staticClass:"margin-bottom",attrs:{context:e.$parent,border:"",columns:e.columns,data:e.data,selection:[1]},on:{"on-selection-change":e.handleSectionChange}}),e._v(" "),n("Page",{attrs:{total:e.total,current:e.current,"page-size":e.consts.PAGE_SIZE,"show-total":"","show-elevator":""},on:{"on-change":e.handlePageChange}})],2)},a=[],i={render:o,staticRenderFns:a};t.a=i},omjG:function(e,t,n){"use strict";function o(e){n("/z6n")}Object.defineProperty(t,"__esModule",{value:!0});var a=n("FIsv"),i=n.n(a),s=n("1jv+"),r=n("VU/8"),c=o,l=r(i.a,s.a,c,"data-v-74219260",null);t.default=l.exports},rJY2:function(e,t,n){"use strict";function o(e){n("zK2N")}Object.defineProperty(t,"__esModule",{value:!0});var a=n("9k9c"),i=n.n(a),s=n("1e6j"),r=n("VU/8"),c=o,l=r(i.a,s.a,c,"data-v-8858c77e",null);t.default=l.exports},spkz:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("mvHQ"),i=o(a),s=(n("NYxO"),n("ZA0d")),r=(o(s),n("bhzL")),c=(o(r),n("W4S7")),l=o(c),d=n("uRaX"),u=o(d);t.default={name:"list",data:function(){var e=this;return{del:{modal:!1,id:0},search:{category:"",goodsName:""},current:1,HotelList:[],CommodityData:[],CommodityColumns:[{title:"类型",key:"categoryName"},{title:"商品名称",key:"commodityName",render:function(e,t){return e("Tooltip",{props:{placement:"top"}},[e("a",t.row.commodityName),[e("div",{slot:"content"},[e("img",{attrs:{src:t.row.commodityImg},style:{width:"120px",height:"120px"}},"")])]])}},{title:"商品概要",key:"commoditySynopsis"},{title:"商品售价",key:"commodityPrice"},{title:"商品进货价",key:"commodityCost"},{title:"库存",key:"commodityInventory",render:function(t,n){return t("div",[t("InputNumber",{props:{value:n.row.commodityInventory,min:1},on:{"on-change":function(t){console.log(t),e.CommodityData[n.index].commodityInventory=t,e.$emit("InputNumber",t)}}})])}},{title:"操作",key:"action",width:125,render:function(t,n){return t("div",[t("Button",{props:{type:"info",size:"small"},style:{"margin-right":"5px"},on:{click:function(){e.save(n.row)}}},"保存"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.delCommotidy(n.row.id)}}},"删除")])}}],hotelCode:"",keyword:"",pageCount:0,pageDate:{pageIdx:0,pageSize:10},hotelShow:!1,hotelName:"",loadingDate:!1,initPage:1}},methods:{init:function(){var e=this;(new l.default).addPath("all").GET().then(function(t){console.log(t),1==t.data.success?e.HotelList=t.data.data:e.$Message.error("获取门店列表失败！")})},handleAdd:function(e){this.$router.push({path:"goodses/form",query:{innCode:this.search.innCode}})},handlePageChange:function(e){this.get(e)},handleSearch:function(){this.pageCount=0,this.pageDate={pageIdx:0,pageSize:10},this.queryCommodity()},queryCommodity:function(){var e=this;this.loadingDate=!0;var t=this.hotelCode,n=this.keyword,o=this.pageDate.pageIdx,a=this.pageDate.pageSize,i={hotelID:t,keyword:n,pageIdx:o,pageSize:a};(new u.default).addPath("queryHotelAndCommodityName").GET({params:i}).then(function(t){console.log(t),1==t.data.success?(e.CommodityData=t.data.data,e.pageCount=t.data.data[0].totalCount,console.log(e.pageCount),e.hotelShow=!0,e.loadingDate=!1):(e.$Message.error("获取门店商品列表失败！"),e.loadingDate=!1)})},changeHotel:function(e){this.hotelName=e.label},save:function(e){var t=this;console.log(e);var n={id:e.id,commodityInventory:e.commodityInventory};n=(0,i.default)(n),(new u.default).addPath("update").PUT({data:n}).then(function(e){console.log(e),"ok"==e.data.data?(t.$Message.info("修改成功"),t.queryCommodity()):(t.queryCommodity(),t.$Message.error("修改失败,"+e.data.data))})},delCommotidy:function(e){var t=this;this.$Modal.confirm({title:"删除门店商品？",content:"确定要删除该商品么？此操作将不能撤回",onOk:function(){(new u.default).addPath("del?id="+e).DELETE().then(function(e){console.log(e),"ok"==e.data.data?(t.$Message.info("修改成功"),t.queryCommodity()):(t.queryCommodity(),t.$Message.error("修改失败,"+e.data.data))})}})},changePage:function(e){var t=this;t.initPage=e,t.pageDate.pageIdx=10*(e-1),t.queryCommodity()}},mounted:function(){this.init()},watch:{"goods.goodses":{handler:function(e){var t=this.dict.alldicts.filter(function(e){return"GOODSTYPE"==e.typeCode});e.data.content.foreach(function(e,n){t.foreach(function(t,n){(t.itemCode=e.category)&&(e.categoryName=t.itemname)})})}}}}},tjh8:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Breadcrumb",{staticStyle:{display:"flex","padding-bottom":"20px"}},[n("Breadcrumb-item",{attrs:{href:"/"}},[e._v("首页")]),e._v(" "),n("Breadcrumb-item",{attrs:{href:"#"}},[e._v("门店门店商品管理")]),e._v(" "),n("Breadcrumb-item",[e._v("门店商品列表")])],1),e._v(" "),n("Row",{attrs:{type:"flex"}},[n("Col",{attrs:{span:"20"}},[n("Row",[n("Col",{attrs:{span:"11"}},[e._v("\n        门店：\n          "),n("Select",{staticStyle:{width:"230px"},attrs:{placeholder:"请选择查询门店",filterable:"","label-in-value":""},on:{"on-change":e.changeHotel},model:{value:e.hotelCode,callback:function(t){e.hotelCode=t},expression:"hotelCode"}},e._l(e.HotelList,function(t){return n("Option",{key:t.code,attrs:{value:t.code}},[e._v(e._s(t.name))])}))],1),e._v(" "),n("Col",{attrs:{span:"11"}},[e._v("\n        商品名称：\n          "),n("Input",{staticStyle:{width:"230px"},attrs:{type:"text",placeholder:"请输入关键字搜索"},on:{"on-enter":e.handleSearch},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),n("Button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1)],1),e._v(" "),n("Col",{attrs:{span:"4"}},[n("Button",{staticClass:"margin-right-sm",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),n("Row",{directives:[{name:"show",rawName:"v-show",value:e.hotelShow,expression:"hotelShow"}],staticStyle:{"margin-top":"20px","padding-top":"10px","border-top":"1px solid #e8e8e8"},attrs:{type:"flex",justify:"space-between"}},[n("Col",{staticStyle:{"font-size":"large","font-weight":"bold"}},[e._v("\n      门店："+e._s(e.hotelName)+"\n    ")])],1),e._v(" "),n("Row",{staticStyle:{"margin-top":"10px"}},[n("Col",[n("Table",{attrs:{loading:e.loadingDate,border:"",columns:e.CommodityColumns,data:e.CommodityData}})],1)],1),e._v(" "),n("Row",{staticStyle:{"margin-top":"10px"}},[n("Col",[n("Page",{attrs:{total:e.pageCount,current:e.initPage},on:{"on-change":e.changePage}})],1)],1)],1)},a=[],i={render:o,staticRenderFns:a};t.a=i},zK2N:function(e,t,n){var o=n("M8OQ");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("2e533ebd",o,!0)}});
//# sourceMappingURL=12.4b46a033987c5d6fc6f4.js.map