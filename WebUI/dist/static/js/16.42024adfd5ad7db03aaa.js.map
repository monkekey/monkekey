{"version":3,"sources":["webpack:///static/js/16.42024adfd5ad7db03aaa.js","webpack:///./src/app/Goodses/Form/index.vue?2da1","webpack:///./node_modules/babel-runtime/core-js/number/parse-float.js","webpack:///./src/app/Goodses/Form/index.vue?23ff","webpack:///./node_modules/core-js/library/modules/es6.number.parse-float.js","webpack:///./node_modules/core-js/library/fn/number/is-nan.js","webpack:///./node_modules/babel-runtime/core-js/number/is-nan.js","webpack:///./node_modules/core-js/library/modules/es6.number.is-nan.js","webpack:///./src/app/Goodses/Form/index.vue","webpack:///./node_modules/core-js/library/modules/_parse-float.js","webpack:///./node_modules/core-js/library/modules/_string-ws.js","webpack:///./src/app/Goodses/Form/index.vue?43f4","webpack:///./node_modules/core-js/library/modules/_string-trim.js","webpack:///index.vue?8ae5","webpack:///./node_modules/core-js/library/fn/number/parse-float.js"],"names":["webpackJsonp","2rlr","module","exports","__webpack_require__","content","i","locals","5dBV","default","__esModule","955T","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","attrs","title","model","value","callback","$$v","visible","expression","staticStyle","width","src","imgName","_e","_v","display","padding-bottom","href","_s","id","span","ref","formValidate","rules","ruleValidate","label-width","label","prop","placeholder","filterable","on","on-change","changeHotel","hotelId","_l","inn","item","key","code","name","disabled","new_commoditySaveDate","length","categoryIn","dicttype","categoryCode","categoryName","border","columns","commoditySaveColumns","data","on-selection-change","selectCommoidty","margin-top","staticClass","type","click","handleSave","$event","$router","back","on-ok","ok","on-cancel","cancel","changeCommodityShow","loading","loadingCommity","commodity","commodityList","justify","total","page","current","initPage","changePage","staticRenderFns","esExports","CHlY","$export","$parseFloat","S","F","Number","parseFloat","K4R9","isNaN","MICi","NA/8","number","QIGT","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue___default","n","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3ee577e0_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","normalizeComponent","__vue_styles__","Component","a","bs6G","$trim","trim","Infinity","str","string","String","result","charAt","hyta","iuVr","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","mnVu","defined","fails","spaces","space","non","ltrim","RegExp","rtrim","exporter","KEY","exec","ALIAS","exp","FORCE","fn","P","TYPE","replace","pLHH","_interopRequireDefault","obj","_stringify","_stringify2","_parseFloat","_parseFloat2","_isNan","_isNan2","_vuex","_consts","_consts2","_commodity","_commodity2","_hotelCommodity","_hotelCommodity2","created","console","log","$route","params","_this2","validatePrice","rule","Error","uploadurl","API_URL","uploadparam","fileType","goodsPics","goodsPicUrls","del","modal","idx","goodsName","originalPrice","category","innCode","pic","required","message","max","trigger","validator","align","h","props","placement","row","commodityName","slot","commodityImg","style","height","pageData","pageIdx","pageSize","changeCommodity","onChangesCommodity","commoditySaveDate","commodityInventory","min","event","index","$emit","fixed","size","editType","removeCommodity","renderHeader","addCommodity","methods","get","uri","$store","dispatch","_this3","selectOK","$Message","error","hotelCommodityList","new_hotelCommoditys","commodityCategoryCode","commodityCode","hotelCategoryList","hotelCommoditylist","addPath","POST","then","res","info","handleView","resetFields","$refs","serch","_this","categoryCodes","GET","success","totalElements","e","f","_disabled","j","_checked","b","selectTab","splice","val","_this4","computed","mapState","watch","goods.goods","handler","newVal","$set","t_goodsPicUrls","forEach","v","STATIC_URL","join","quu5"],"mappings":"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,QbiJIuK,EAAWV,EAAuBS,GahJtCE,EAAAxK,EAAA,QboJIyK,EAAcZ,EAAuBW,GalJzCE,EAAA1K,EAAA,QbsJI2K,EAAmBd,EAAuBa,EAI9C3K,GAAQM,SACNiD,KazJF,Ob0JEsH,QAAS,WACPC,QAAQC,IazJZ,Sb0JInK,KAAKuB,GAAKvB,KAAKoK,OAAOC,OazJ1B9I,Gb0JI2I,QAAQC,IAAI,MAAOnK,KaxJvBuB,Kb0JE+B,KAAM,WaxJR,GAAAgH,GAAAtK,Kb2JQuK,EAAgB,SAAuBC,EAAMhK,EAAOC,IAClD,EAAIgJ,EAAQ/J,UAAS,EAAI6J,EAAa7J,SAASc,IACjDC,EAAS,GAAIgK,Oa1JrB,WAEAhK,Ib8JI,QACEc,Ga1JN,Gb2JMmJ,UAAWd,EAASlK,QAAQiL,Qa1JlC,mBb2JMC,aAAeC,Sa1JrB,Yb2JMC,aACAC,ca1JN,8Fb2JM/J,Qa1JN,Gb2JML,Sa1JN,Eb2JMqK,KACEC,Oa1JR,Eb2JQC,KazJR,Gb2JMxJ,cACEyJ,Ua1JR,Gb2JQC,ca1JR,Gb2JQC,Sa1JR,Gb2JQC,Qa1JR,Gb2JQC,IazJR,Ib2JM3J,cACEuJ,YACEK,UazJV,Eb0JUC,QaxJV,ab0JUC,IaxJV,GbyJUD,QatJV,mBbwJQL,gBavJRI,UAAA,EAAAC,QAAA,UAAAE,QACA,SAAAC,UAAArB,EAAAoB,QAEA,SbqJQN,WACEG,UanJV,EboJUC,QajJV,abmJQH,UACEE,UajJV,EbkJUC,Qa/IV,WbiJQF,MACEC,Ua/IV,EbgJUC,Qa5IV,Yb+IM1I,cACAwB,gBa7IN,Eb+IMC,YACEb,Ka7IR,Yb8IQ7C,Ma7IR,Gb8IQ+K,Ma5IR,Wb8IQvL,Ma5IR,Kb6IQmC,Ia3IR,iBb6IQnC,Ma3IR,Ob4IQmC,Ia3IR,gBb4IQ3C,OAAQ,SAAgBgM,EAAGzB,GACzB,MAAOyB,GAAE,WACPC,OACEC,Ua1Id,SACAF,EAAA,IAAAzB,EAAA4B,IAAAC,gBAAAJ,EAAA,Ob4IYK,KazIZ,YACAL,EAAA,Ob0IYzL,OACEU,IAAKsJ,EAAO4B,IavI1BG,cbyIYC,OACEvL,MaxId,QbyIcwL,OavId,UAIA,YbwIQhM,MapIR,ObqIQmC,IanIR,sBbqIQnC,ManIR,OboIQmC,IalIR,mBboIQnC,MalIR,QbmIQmC,IahIR,kBbkIMgC,iBACAG,KajIN,EbkIME,SajIN,EbkIMyH,UACEC,QajIR,EbkIQC,SahIR,IbkIMpK,QajIN,GbkIMqK,mBACAC,sBACAtI,qBajIN,EbkIMuI,qBACA/J,yBACAQ,uBACE/C,Ma/HR,KbgIQmC,Ia9HR,iBbgIQnC,Ma9HR,Ob+HQmC,Ia9HR,gBb+HQ3C,OAAQ,SAAgBgM,EAAGzB,GACzB,MAAOyB,GAAE,WACPC,OACEC,Ua7Hd,SACAF,EAAA,IAAAzB,EAAA4B,IAAAC,gBAAAJ,EAAA,Ob+HYK,Ka5HZ,YACAL,EAAA,Ob6HYzL,OACEU,IAAKsJ,EAAO4B,Ia1H1BG,cb4HYC,OACEvL,Ma3Hd,Qb4HcwL,Oa1Hd,UAIA,Yb2HQhM,MavHR,ObwHQmC,IatHR,sBbwHQnC,MatHR,ObuHQmC,IarHR,mBbuHQnC,MarHR,QbsHQmC,IapHR,kBbsHQnC,MapHR,ObqHQmC,IapHR,qBbqHQ3C,OAAQ,SAAgBgM,EAAGzB,GACzB,MAAOyB,GAAE,OAAQA,EAAE,eACjBC,OACEvL,MAAO6J,EAAO4B,IanH5BY,mBboHcC,IalHd,GboHY5K,IACEC,YAAa,SAAkB4K,GAC7BzC,EAAOsC,kBAAkBvC,EAAO2C,OAAOH,mBanHvDE,EboHgBzC,EAAO2C,MAAM,canH7BF,YbyHQzM,MajHR,SbkHQmC,IajHR,GbkHQ3B,MajHR,GbkHQ+K,MajHR,SbkHQqB,MajHR,QbkHQpN,OAAQ,SAAgBgM,EAAGzB,GACzB,MAAOyB,GAAE,OAAQA,EAAE,UACjBC,OACEpI,KahHd,QbiHcwJ,KahHd,QbiHcvK,SAAU0H,Ea/GxB8C,UbiHYlL,IACE0B,MAAO,WACL0G,EAAO+C,gBAAgBhD,EahHvC2C,UAIA,SbiHQM,aAAc,SAAsBxB,EAAGzB,GACrC,MAAOyB,GAAE,OAAQA,EAAE,UACjBC,OACEpI,Ka9Gd,Ub+GcwJ,Ka9Gd,Qb+GcvK,SAAU0H,Ea7GxB8C,Ub+GYlL,IACE0B,MAAO,WACL0G,EAAOiD,aAAalD,Ea9GpC2C,UAIA,ab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","file":"static/js/16.42024adfd5ad7db03aaa.js","sourcesContent":["webpackJsonp([16],{\n\n/***/ \"2rlr\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"iuVr\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"1b08ccf2\", content, true);\n\n/***/ }),\n\n/***/ \"5dBV\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"quu5\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"955T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Modal',{attrs:{\"title\":\"查看\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[(_vm.visible)?_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.imgName}}):_vm._e()]),_vm._v(\" \"),_c('Breadcrumb',{staticStyle:{\"display\":\"flex\",\"padding-bottom\":\"20px\"}},[_c('Breadcrumb-item',{attrs:{\"href\":\"/\"}},[_vm._v(\"首页\")]),_vm._v(\" \"),_c('Breadcrumb-item',{attrs:{\"href\":\"#\"}},[_vm._v(\"门店商品管理\")]),_vm._v(\" \"),_c('Breadcrumb-item',{attrs:{\"href\":\"/goodses\"}},[_vm._v(\"门店商品列表\")]),_vm._v(\" \"),_c('Breadcrumb-item',[_vm._v(\"门店商品\"+_vm._s(_vm.id ? '编辑' : '新增'))])],1),_vm._v(\" \"),_c('div',[_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":120}},[_c('Form-item',{attrs:{\"label\":\"分店\",\"prop\":\"\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择输入门店\",\"filterable\":\"\"},on:{\"on-change\":_vm.changeHotel},model:{value:(_vm.hotelId),callback:function ($$v) {_vm.hotelId=$$v},expression:\"hotelId\"}},_vm._l((_vm.inn.allinns),function(item){return _c('Option',{key:item.code,attrs:{\"value\":item.code}},[_vm._v(_vm._s(item.name))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"商品类型\",\"prop\":\"\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"disabled\":_vm.new_commoditySaveDate.length > 0},model:{value:(_vm.categoryIn),callback:function ($$v) {_vm.categoryIn=$$v},expression:\"categoryIn\"}},_vm._l((_vm.dicttype.alldicttypes),function(item){return _c('Option',{key:item.categoryCode,attrs:{\"value\":item.categoryCode}},[_vm._v(_vm._s(item.categoryName))])}))],1)],1)],1)],1),_vm._v(\" \"),_c('Row',[_c('Col',{attrs:{\"span\":\"24\"}},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.commoditySaveColumns,\"data\":_vm.new_commoditySaveDate},on:{\"on-selection-change\":_vm.selectCommoidty}})],1)],1),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-top\":\"40px\"}},[_c('Col',{attrs:{\"span\":\"24\"}},[_c('Button',{staticClass:\"margin-right-sm\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSave}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"ghost\"},on:{\"click\":function($event){_vm.$router.back(-1)}}},[_vm._v(\"返回\")])],1)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"选择商品\",\"width\":\"1000\"},on:{\"on-ok\":_vm.ok,\"on-cancel\":_vm.cancel},model:{value:(_vm.changeCommodityShow),callback:function ($$v) {_vm.changeCommodityShow=$$v},expression:\"changeCommodityShow\"}},[_c('Table',{ref:\"selection\",attrs:{\"border\":\"\",\"loading\":_vm.loadingCommity,\"columns\":_vm.commodity,\"data\":_vm.commodityList},on:{\"on-selection-change\":_vm.selectCommoidty}}),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('Col',[_c('Page',{attrs:{\"total\":_vm.page,\"current\":_vm.initPage},on:{\"on-change\":_vm.changePage}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"CHlY\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(\"kM2E\");\nvar $parseFloat = __webpack_require__(\"bs6G\");\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });\n\n\n/***/ }),\n\n/***/ \"K4R9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"NA/8\");\nmodule.exports = __webpack_require__(\"FeBl\").Number.isNaN;\n\n\n/***/ }),\n\n/***/ \"MICi\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"K4R9\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"NA/8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 20.1.2.4 Number.isNaN(number)\nvar $export = __webpack_require__(\"kM2E\");\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n\n\n/***/ }),\n\n/***/ \"QIGT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(\"pLHH\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3ee577e0_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"955T\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"2rlr\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3ee577e0_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"bs6G\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $parseFloat = __webpack_require__(\"7KvD\").parseFloat;\nvar $trim = __webpack_require__(\"mnVu\").trim;\n\nmodule.exports = 1 / $parseFloat(__webpack_require__(\"hyta\") + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n\n\n/***/ }),\n\n/***/ \"hyta\":\n/***/ (function(module, exports) {\n\nmodule.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n\n/***/ }),\n\n/***/ \"iuVr\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".avatar{width:200px;height:280px;background:#fff;border-radius:2px}.demo-upload-list{display:inline-block;width:60px;height:60px;text-align:center;line-height:60px;border:1px solid transparent;border-radius:4px;overflow:hidden;background:#fff;position:relative;box-shadow:0 1px 1px rgba(0,0,0,.2);margin-right:4px}.demo-upload-list img{width:100%;height:100%}.demo-upload-list-cover{display:none;position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.6)}.demo-upload-list:hover .demo-upload-list-cover{display:block}.demo-upload-list-cover i{color:#fff;font-size:20px;cursor:pointer;margin:0 2px}\", \"\", {\"version\":3,\"sources\":[\"E:/Bee/YumiButler.git/WebUI/src/app/Goodses/Form/index.vue\"],\"names\":[],\"mappings\":\"AACA,QACE,YAAa,AACb,aAAc,AACd,gBAAoB,AACpB,iBAAmB,CACpB,AACD,kBACE,qBAAsB,AACtB,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,iBAAkB,AAClB,6BAA8B,AAC9B,kBAAmB,AACnB,gBAAiB,AACjB,gBAAiB,AACjB,kBAAmB,AACnB,oCAAyC,AACzC,gBAAkB,CACnB,AACD,sBACE,WAAY,AACZ,WAAa,CACd,AACD,wBACE,aAAc,AACd,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,OAAQ,AACR,QAAS,AACT,yBAA+B,CAChC,AACD,gDACE,aAAe,CAChB,AACD,0BACE,WAAY,AACZ,eAAgB,AAChB,eAAgB,AAChB,YAAc,CACf\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.avatar {\\n  width: 200px;\\n  height: 280px;\\n  background: #ffffff;\\n  border-radius: 2px;\\n}\\n.demo-upload-list {\\n  display: inline-block;\\n  width: 60px;\\n  height: 60px;\\n  text-align: center;\\n  line-height: 60px;\\n  border: 1px solid transparent;\\n  border-radius: 4px;\\n  overflow: hidden;\\n  background: #fff;\\n  position: relative;\\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\\n  margin-right: 4px;\\n}\\n.demo-upload-list img {\\n  width: 100%;\\n  height: 100%;\\n}\\n.demo-upload-list-cover {\\n  display: none;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  background: rgba(0, 0, 0, 0.6);\\n}\\n.demo-upload-list:hover .demo-upload-list-cover {\\n  display: block;\\n}\\n.demo-upload-list-cover i {\\n  color: #fff;\\n  font-size: 20px;\\n  cursor: pointer;\\n  margin: 0 2px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"mnVu\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(\"kM2E\");\nvar defined = __webpack_require__(\"52gC\");\nvar fails = __webpack_require__(\"S82l\");\nvar spaces = __webpack_require__(\"hyta\");\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n\n\n/***/ }),\n\n/***/ \"pLHH\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = __webpack_require__(\"mvHQ\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _parseFloat = __webpack_require__(\"5dBV\");\n\nvar _parseFloat2 = _interopRequireDefault(_parseFloat);\n\nvar _isNan = __webpack_require__(\"MICi\");\n\nvar _isNan2 = _interopRequireDefault(_isNan);\n\nvar _vuex = __webpack_require__(\"NYxO\");\n\nvar _consts = __webpack_require__(\"ZA0d\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nvar _commodity = __webpack_require__(\"adDe\");\n\nvar _commodity2 = _interopRequireDefault(_commodity);\n\nvar _hotelCommodity = __webpack_require__(\"uRaX\");\n\nvar _hotelCommodity2 = _interopRequireDefault(_hotelCommodity);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'form',\n  created: function created() {\n    console.log('sssss');\n    this.id = this.$route.params.id;\n    console.log('val', this.id);\n  },\n  data: function data() {\n    var _this2 = this;\n\n    var validatePrice = function validatePrice(rule, value, callback) {\n      if ((0, _isNan2.default)((0, _parseFloat2.default)(value))) {\n        callback(new Error('请输入数字值'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      id: '',\n      uploadurl: _consts2.default.API_URL + '/file/uploadFile',\n      uploadparam: { 'fileType': 'goodsPic' },\n      goodsPics: [],\n      goodsPicUrls: ['http://img14.360buyimg.com/n1/jfs/t4162/272/378575216/55355/56e7dbca/58b3be82N99650603.jpg'],\n      imgName: '',\n      visible: false,\n      del: {\n        modal: false,\n        idx: -1\n      },\n      formValidate: {\n        goodsName: '',\n        originalPrice: '',\n        category: '',\n        innCode: '',\n        pic: ''\n      },\n      ruleValidate: {\n        goodsName: [{\n          required: true,\n          message: '商品名称不能为空'\n        }, {\n          max: 20,\n          message: '商品名称不能多于 20 个字'\n        }],\n        originalPrice: [{ required: true, message: '售价必须为数字', trigger: 'blur' }, { validator: validatePrice, trigger: 'blur' }],\n        category: [{\n          required: true,\n          message: '商品类别不能为空'\n        }],\n        innCode: [{\n          required: true,\n          message: '分店不能为空'\n        }],\n        pic: [{\n          required: true,\n          message: '图片不能为空'\n        }]\n      },\n      categoryIn: [],\n      loadingCommity: false,\n\n      commodity: [{\n        type: 'selection',\n        width: 60,\n        align: 'center'\n      }, {\n        title: '类型',\n        key: 'categoryName'\n      }, {\n        title: '商品名称',\n        key: 'commodityName',\n        render: function render(h, params) {\n          return h('Tooltip', {\n            props: {\n              placement: 'top'\n            }\n          }, [h('a', params.row.commodityName), [h('div', {\n            slot: 'content'\n          }, [h('img', {\n            attrs: {\n              src: params.row.commodityImg\n            },\n            style: {\n              width: '120px',\n              height: '120px'\n            }\n          }, '')])]]);\n        }\n      }, {\n        title: '商品概要',\n        key: 'commoditySynopsis'\n      }, {\n        title: '商品售价',\n        key: 'commodityPrice'\n      }, {\n        title: '商品进货价',\n        key: 'commodityCost'\n      }],\n      commodityList: [],\n      page: 0,\n      initPage: 1,\n      pageData: {\n        pageIdx: 0,\n        pageSize: 10\n      },\n      hotelId: '',\n      changeCommodity: [],\n      onChangesCommodity: [],\n      changeCommodityShow: false,\n      commoditySaveDate: [],\n      new_commoditySaveDate: [],\n      commoditySaveColumns: [{\n        title: '类型',\n        key: 'categoryName'\n      }, {\n        title: '商品名称',\n        key: 'commodityName',\n        render: function render(h, params) {\n          return h('Tooltip', {\n            props: {\n              placement: 'top'\n            }\n          }, [h('a', params.row.commodityName), [h('div', {\n            slot: 'content'\n          }, [h('img', {\n            attrs: {\n              src: params.row.commodityImg\n            },\n            style: {\n              width: '120px',\n              height: '120px'\n            }\n          }, '')])]]);\n        }\n      }, {\n        title: '商品概要',\n        key: 'commoditySynopsis'\n      }, {\n        title: '商品售价',\n        key: 'commodityPrice'\n      }, {\n        title: '商品进货价',\n        key: 'commodityCost'\n      }, {\n        title: '商品库存',\n        key: 'commodityInventory',\n        render: function render(h, params) {\n          return h('div', [h('InputNumber', {\n            props: {\n              value: params.row.commodityInventory,\n              min: 1\n            },\n            on: {\n              'on-change': function onChange(event) {\n                _this2.commoditySaveDate[params.index].commodityInventory = event;\n                _this2.$emit('InputNumber', event);\n              }\n            }\n          })]);\n        }\n      }, {\n        title: 'Action',\n        key: '',\n        width: 90,\n        align: 'center',\n        fixed: 'right',\n        render: function render(h, params) {\n          return h('div', [h('Button', {\n            props: {\n              type: 'error',\n              size: 'small',\n              disabled: _this2.editType\n            },\n            on: {\n              click: function click() {\n                _this2.removeCommodity(params.index);\n              }\n            }\n          }, '删除')]);\n        },\n        renderHeader: function renderHeader(h, params) {\n          return h('div', [h('Button', {\n            props: {\n              type: 'primary',\n              size: 'small',\n              disabled: _this2.editType\n            },\n            on: {\n              click: function click() {\n                _this2.addCommodity(params.index);\n              }\n            }\n          }, '添加')]);\n        }\n      }]\n    };\n  },\n\n  methods: {\n    get: function get(uri) {\n      this.$store.dispatch('getGoods', { uri: uri });\n    },\n    handleSave: function handleSave() {\n      var _this3 = this;\n\n      this.selectOK();\n      var _this = this;\n      if (null == this.hotelId || \"\" == this.hotelId) {\n        this.$Message.error(\"请选择门店！\");\n        return;\n      }\n      var hotelCommodityList = this.new_commoditySaveDate;\n      var new_hotelCommoditys = [];\n      for (var i in hotelCommodityList) {\n        new_hotelCommoditys.push({\n          hotelId: this.hotelId,\n          categoryCode: hotelCommodityList[i].commodityCategoryCode,\n          commodityCode: hotelCommodityList[i].commodityCode,\n          commodityInventory: hotelCommodityList[i].commodityInventory\n        });\n      }\n\n      var data = {\n        hotelId: this.hotelId,\n        hotelCategoryList: this.categoryIn,\n        hotelCommoditylist: new_hotelCommoditys\n      };\n      console.log((0, _stringify2.default)(data));\n      data = (0, _stringify2.default)(data);\n      new _hotelCommodity2.default().addPath('save').POST({ data: data }).then(function (res) {\n        console.log(res);\n        if (res.data.data == \"ok\") {\n          _this3.changeCommodity = [];\n          _this3.onChangesCommodity = [];\n          _this3.new_commoditySaveDate = [];\n\n          _this3.$Message.info('保存成功');\n        } else {\n          _this3.$Message.error('保存失败');\n        }\n      });\n      return;\n      _this.$refs.formValidate.validate(function (valid) {\n        if (valid) {\n          var action = _this.id ? 'putGoods' : 'postGoods';\n          var uri = _this.id;\n\n          _this.$store.dispatch(action, {\n            uri: uri,\n            data: _this.formValidate\n          }).then(function () {\n            _this.$Message.success((_this.id ? '编辑' : '新增') + '成功！');\n            !_this.id && _this.resetFields();\n          });\n        }\n      });\n    },\n    handleView: function handleView(item) {\n      this.imgName = item;\n      this.visible = true;\n    },\n    resetFields: function resetFields() {\n      this.$refs.formValidate.resetFields();\n    },\n    serch: function serch() {\n      var _this = this;\n      _this.loadingCommity = true;\n      var params = {\n        pageIdx: _this.pageData.pageIdx,\n        pageSize: _this.pageData.pageSize,\n        categoryCodes: _this.categoryIn\n      };\n      new _commodity2.default().addPath('in').GET({ params: params }).then(function (res) {\n        if (res.data.success == true) {\n          _this.page = res.data.data.totalElements;\n          var result = res.data.data.content;\n          var commodityList = result;\n          if (_this.commoditySaveDate.length > 0) {\n            for (var e in commodityList) {\n              for (var f in _this.commoditySaveDate) {\n                if (commodityList[e].commodityCode == _this.commoditySaveDate[f].commodityCode) {\n                  console.log('sss');\n                  commodityList[e]._disabled = true;\n                }\n              }\n            }\n          }\n          if (_this.changeCommodity.length > 0) {\n            for (var h in commodityList) {\n              for (var j in _this.changeCommodity) {\n                if (commodityList[h].commodityCode == _this.changeCommodity[j].commodityCode) {\n                  commodityList[h]._checked = true;\n                }\n              }\n            }\n          }\n          _this.commodityList = commodityList;\n          _this.loadingCommity = false;\n        } else {\n          _this.$Message.error('查询失败！');\n          _this.loadingCommity = false;\n        }\n      });\n    },\n    changePage: function changePage(e) {\n      this.selectOK();\n      this.initPage = e;\n      this.pageData.pageIdx = e - 1;\n      this.serch();\n    },\n    selectCommoidty: function selectCommoidty(e) {\n      this.onChangesCommodity = e;\n      for (var a in this.commodityList) {\n        this.commodityList[a]._checked = false;\n        for (var b in e) {\n          if (this.commodityList[a].commodityCode == e[b].commodityCode) {\n            this.commodityList[a]._checked = true;\n          }\n        }\n      }\n    },\n    selectOK: function selectOK() {\n      for (var i in this.commodityList) {\n        if (this.commodityList[i]._checked == true) {\n          this.selectTab = false;\n          for (var j in this.changeCommodity) {\n            if (this.commodityList[i].commodityCode == this.changeCommodity[j].commodityCode) {\n              this.selectTab = true;\n            }\n          }\n          if (!this.selectTab) {\n            this.changeCommodity.push(this.commodityList[i]);\n          }\n        } else {\n          for (var j in this.changeCommodity) {\n            if (this.commodityList[i].commodityCode == this.changeCommodity[j].commodityCode) {\n              this.changeCommodity.splice(j, 1);\n            }\n          }\n        }\n      }\n    },\n    addCommodity: function addCommodity() {\n      if (this.categoryIn.length == 0) {\n        this.$Message.error('请先选择商品类型！');\n        return;\n      }\n      this.selectOK();\n      this.pageData = {\n        pageIdx: 0,\n        pageSize: 10\n      }, this.initPage = 1;\n      this.serch();\n      this.changeCommodityShow = true;\n    },\n    ok: function ok() {\n      this.selectOK();\n      this.new_commoditySaveDate = this.changeCommodity;\n    },\n    cancel: function cancel() {\n      this.changeCommodity = [];\n      this.changeCommodityShow = false;\n    },\n    removeCommodity: function removeCommodity(val) {\n      console.log(val);\n      this.new_commoditySaveDate.splice(val, 1);\n    },\n    changeHotel: function changeHotel() {\n      var _this4 = this;\n\n      console.log(this.hotelId);\n      var data = this.hotelId;\n      new _commodity2.default().addPath('hotelCommodity?hotelID=' + data).GET().then(function (res) {\n        console.log(res);\n        if (res.data.success == true) {\n          _this4.commoditySaveDate = res.data.data;\n        }\n      });\n    }\n  },\n  computed: (0, _vuex.mapState)(['goods', 'inn', 'dicttype']),\n  watch: {\n    'goods.goods': {\n      handler: function handler(newVal) {\n        this.$set(this, 'formValidate', newVal.data);\n      }\n    },\n    'goodsPics': {\n      handler: function handler(newVal) {\n        var t_goodsPicUrls = [];\n\n        newVal.forEach(function (v, i) {\n          t_goodsPicUrls.push(_consts2.default.STATIC_URL + '/goodsPic/' + v);\n        });\n\n        this.$set(this, 'goodsPicUrls', t_goodsPicUrls);\n        this.$set(this.formValidate, 'pic', newVal.join(\",\"));\n      }\n    }\n  }\n};\n\n/***/ }),\n\n/***/ \"quu5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"CHlY\");\nmodule.exports = parseFloat;\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/16.42024adfd5ad7db03aaa.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ee577e0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"1b08ccf2\", content, true);\n\n\n// WEBPACK FOOTER //\n// \"}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3ee577e0\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/app/Goodses/Form/index.vue","module.exports = { \"default\": require(\"core-js/library/fn/number/parse-float\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/number/parse-float.js\n// module id = 5dBV\n// module chunks = 16","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Modal',{attrs:{\"title\":\"查看\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[(_vm.visible)?_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.imgName}}):_vm._e()]),_vm._v(\" \"),_c('Breadcrumb',{staticStyle:{\"display\":\"flex\",\"padding-bottom\":\"20px\"}},[_c('Breadcrumb-item',{attrs:{\"href\":\"/\"}},[_vm._v(\"首页\")]),_vm._v(\" \"),_c('Breadcrumb-item',{attrs:{\"href\":\"#\"}},[_vm._v(\"门店商品管理\")]),_vm._v(\" \"),_c('Breadcrumb-item',{attrs:{\"href\":\"/goodses\"}},[_vm._v(\"门店商品列表\")]),_vm._v(\" \"),_c('Breadcrumb-item',[_vm._v(\"门店商品\"+_vm._s(_vm.id ? '编辑' : '新增'))])],1),_vm._v(\" \"),_c('div',[_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":120}},[_c('Form-item',{attrs:{\"label\":\"分店\",\"prop\":\"\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择输入门店\",\"filterable\":\"\"},on:{\"on-change\":_vm.changeHotel},model:{value:(_vm.hotelId),callback:function ($$v) {_vm.hotelId=$$v},expression:\"hotelId\"}},_vm._l((_vm.inn.allinns),function(item){return _c('Option',{key:item.code,attrs:{\"value\":item.code}},[_vm._v(_vm._s(item.name))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"商品类型\",\"prop\":\"\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"disabled\":_vm.new_commoditySaveDate.length > 0},model:{value:(_vm.categoryIn),callback:function ($$v) {_vm.categoryIn=$$v},expression:\"categoryIn\"}},_vm._l((_vm.dicttype.alldicttypes),function(item){return _c('Option',{key:item.categoryCode,attrs:{\"value\":item.categoryCode}},[_vm._v(_vm._s(item.categoryName))])}))],1)],1)],1)],1),_vm._v(\" \"),_c('Row',[_c('Col',{attrs:{\"span\":\"24\"}},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.commoditySaveColumns,\"data\":_vm.new_commoditySaveDate},on:{\"on-selection-change\":_vm.selectCommoidty}})],1)],1),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-top\":\"40px\"}},[_c('Col',{attrs:{\"span\":\"24\"}},[_c('Button',{staticClass:\"margin-right-sm\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSave}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"ghost\"},on:{\"click\":function($event){_vm.$router.back(-1)}}},[_vm._v(\"返回\")])],1)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"选择商品\",\"width\":\"1000\"},on:{\"on-ok\":_vm.ok,\"on-cancel\":_vm.cancel},model:{value:(_vm.changeCommodityShow),callback:function ($$v) {_vm.changeCommodityShow=$$v},expression:\"changeCommodityShow\"}},[_c('Table',{ref:\"selection\",attrs:{\"border\":\"\",\"loading\":_vm.loadingCommity,\"columns\":_vm.commodity,\"data\":_vm.commodityList},on:{\"on-selection-change\":_vm.selectCommoidty}}),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('Col',[_c('Page',{attrs:{\"total\":_vm.page,\"current\":_vm.initPage},on:{\"on-change\":_vm.changePage}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ee577e0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/app/Goodses/Form/index.vue\n// module id = 955T\n// module chunks = 16","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.number.parse-float.js\n// module id = CHlY\n// module chunks = 16","require('../../modules/es6.number.is-nan');\nmodule.exports = require('../../modules/_core').Number.isNaN;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/number/is-nan.js\n// module id = K4R9\n// module chunks = 16","module.exports = { \"default\": require(\"core-js/library/fn/number/is-nan\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/number/is-nan.js\n// module id = MICi\n// module chunks = 16","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.number.is-nan.js\n// module id = NA/8\n// module chunks = 16","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ee577e0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ee577e0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/Goodses/Form/index.vue\n// module id = QIGT\n// module chunks = 16","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_parse-float.js\n// module id = bs6G\n// module chunks = 16","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-ws.js\n// module id = hyta\n// module chunks = 16","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".avatar{width:200px;height:280px;background:#fff;border-radius:2px}.demo-upload-list{display:inline-block;width:60px;height:60px;text-align:center;line-height:60px;border:1px solid transparent;border-radius:4px;overflow:hidden;background:#fff;position:relative;box-shadow:0 1px 1px rgba(0,0,0,.2);margin-right:4px}.demo-upload-list img{width:100%;height:100%}.demo-upload-list-cover{display:none;position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.6)}.demo-upload-list:hover .demo-upload-list-cover{display:block}.demo-upload-list-cover i{color:#fff;font-size:20px;cursor:pointer;margin:0 2px}\", \"\", {\"version\":3,\"sources\":[\"E:/Bee/YumiButler.git/WebUI/src/app/Goodses/Form/index.vue\"],\"names\":[],\"mappings\":\"AACA,QACE,YAAa,AACb,aAAc,AACd,gBAAoB,AACpB,iBAAmB,CACpB,AACD,kBACE,qBAAsB,AACtB,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,iBAAkB,AAClB,6BAA8B,AAC9B,kBAAmB,AACnB,gBAAiB,AACjB,gBAAiB,AACjB,kBAAmB,AACnB,oCAAyC,AACzC,gBAAkB,CACnB,AACD,sBACE,WAAY,AACZ,WAAa,CACd,AACD,wBACE,aAAc,AACd,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,OAAQ,AACR,QAAS,AACT,yBAA+B,CAChC,AACD,gDACE,aAAe,CAChB,AACD,0BACE,WAAY,AACZ,eAAgB,AAChB,eAAgB,AAChB,YAAc,CACf\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.avatar {\\n  width: 200px;\\n  height: 280px;\\n  background: #ffffff;\\n  border-radius: 2px;\\n}\\n.demo-upload-list {\\n  display: inline-block;\\n  width: 60px;\\n  height: 60px;\\n  text-align: center;\\n  line-height: 60px;\\n  border: 1px solid transparent;\\n  border-radius: 4px;\\n  overflow: hidden;\\n  background: #fff;\\n  position: relative;\\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\\n  margin-right: 4px;\\n}\\n.demo-upload-list img {\\n  width: 100%;\\n  height: 100%;\\n}\\n.demo-upload-list-cover {\\n  display: none;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  background: rgba(0, 0, 0, 0.6);\\n}\\n.demo-upload-list:hover .demo-upload-list-cover {\\n  display: block;\\n}\\n.demo-upload-list-cover i {\\n  color: #fff;\\n  font-size: 20px;\\n  cursor: pointer;\\n  margin: 0 2px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3ee577e0\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/app/Goodses/Form/index.vue\n// module id = iuVr\n// module chunks = 16","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-trim.js\n// module id = mnVu\n// module chunks = 16","<template>\n  <div>\n    <Modal title=\"查看\" v-model=\"visible\">\n        <img :src=\"imgName\" v-if=\"visible\" style=\"width: 100%\">\n    </Modal>\n\n    <Breadcrumb style=\"display: flex; padding-bottom: 20px\">\n      <Breadcrumb-item href=\"/\">首页</Breadcrumb-item>\n      <Breadcrumb-item href=\"#\">门店商品管理</Breadcrumb-item>\n      <Breadcrumb-item href=\"/goodses\">门店商品列表</Breadcrumb-item>\n      <Breadcrumb-item>门店商品{{ id ? '编辑' : '新增' }}</Breadcrumb-item>\n    </Breadcrumb>\n    <div>\n      <Row>\n        <Col span=\"12\">\n          <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"120\">\n            <Form-item label=\"分店\" prop=\"\">\n              <Select\n                  v-model=\"hotelId\"\n                  placeholder=\"请选择输入门店\"\n                  filterable\n                  @on-change=\"changeHotel\">\n                  <Option v-for=\"item in inn.allinns\" :value=\"item.code\" :key=\"item.code\">{{item.name}}</Option>\n              </Select>\n            </Form-item>\n            <FormItem label=\"商品类型\" prop=\"\">\n              <Select v-model=\"categoryIn\" filterable :disabled=\"new_commoditySaveDate.length > 0\">\n                <Option v-for=\"item in dicttype.alldicttypes\" :value=\"item.categoryCode\" :key=\"item.categoryCode\">{{ item.categoryName }}</Option>\n              </Select>\n            </FormItem>    \n          </Form>\n        </Col>\n      </Row>\n      <Row>\n        <Col span=\"24\">\n          <Table border :columns=\"commoditySaveColumns\" :data=\"new_commoditySaveDate\" @on-selection-change=\"selectCommoidty\"></Table>\n        </Col>\n      </Row>\n      \n      <Row style=\"margin-top:40px\">\n        <Col span=\"24\">\n          <Button type=\"primary\" @click=\"handleSave\" class=\"margin-right-sm\">保存</Button>\n          <Button type=\"ghost\" @click=\"$router.back(-1)\">返回</Button>\n        </Col>  \n      </Row> \n    </div>\n  \n    <Modal\n        v-model=\"changeCommodityShow\"\n        title=\"选择商品\"\n        @on-ok=\"ok\"\n        @on-cancel=\"cancel\"\n        width=\"1000\">\n        <Table border ref=\"selection\" :loading=\"loadingCommity\" :columns=\"commodity\" :data=\"commodityList\" @on-selection-change=\"selectCommoidty\"></Table>\n\n        <Row type=\"flex\" justify=\"center\" style=\"margin-top:20px\">\n        <Col>\n          <Page :total=\"page\" :current=\"initPage\" @on-change=\"changePage\"></Page>\n        </Col>\n      </Row>\n    </Modal>\n\n  </div>\n</template>\n\n\n\n<script>\n  import { mapState } from 'vuex'\n  import consts from '@/utils/consts'\n  import Commodity from '@/models/commodity'\n  import hotelCommodity from '@/models/hotelCommodity'\n  export default {\n    name: 'form',\n    created () {\n      console.log('sssss')\n      this.id = this.$route.params.id\n      console.log('val',this.id)\n      // this.id && this.get(this.id)\n    },\n    data () {\n      const validatePrice = (rule, value, callback) => {\n          if (Number.isNaN(Number.parseFloat(value))) {\n              callback(new Error('请输入数字值'));\n          } else {\n              callback();\n          }\n      };\n\n      return {\n        id: '',\n        uploadurl : consts.API_URL + '/file/uploadFile',\n        uploadparam: {'fileType': 'goodsPic'},\n        goodsPics: [],\n        goodsPicUrls: ['http://img14.360buyimg.com/n1/jfs/t4162/272/378575216/55355/56e7dbca/58b3be82N99650603.jpg'],\n        imgName: '',\n        visible: false,\n        del: {\n          modal: false,\n          idx: -1\n        },\n        formValidate: {\n          goodsName: '',\n          originalPrice: '',\n          category: '',\n          innCode: '',\n          pic: ''\n        },\n        ruleValidate: {\n          goodsName: [\n            {\n              required: true,\n              message: '商品名称不能为空'\n            },\n            {\n              max: 20,\n              message: '商品名称不能多于 20 个字'\n            }\n          ],\n          originalPrice: [\n            {required: true, message: '售价必须为数字', trigger: 'blur'},\n            {validator: validatePrice, trigger: 'blur'}\n          ],\n          category: [\n            {\n              required: true,\n              message: '商品类别不能为空'\n            }\n          ],\n          innCode: [\n            {\n              required: true,\n              message: '分店不能为空'\n            }\n          ],\n          pic: [\n            {\n              required: true,\n              message: '图片不能为空'\n            }\n          ]\n        },\n        categoryIn:[],//选中的商品类型\n        loadingCommity:false,\n        //查询商品的列\n        commodity:[\n          {\n            type: 'selection',\n            width: 60,\n            align: 'center'\n          },\n          {\n            title: '类型',\n            key: 'categoryName'\n          },\n          {\n            title: '商品名称',\n            key: 'commodityName',\n            render:(h,params) =>{\n              return h('Tooltip',{\n                props:{\n                  placement:'top'\n                }\n              },[\n                h('a', params.row.commodityName),[\n                  h('div',{\n                    slot:'content'\n                  },[\n                    h('img',{\n                      attrs:{\n                        src: params.row.commodityImg \n                      },\n                      style:{\n                        width: '120px',\n                        height: '120px'\n                      }\n                    },''),\n                  ])\n                ]\n              ])\n            }\n          },\n          {\n            title: '商品概要',\n            key: 'commoditySynopsis'\n          },\n          {\n            title: '商品售价',\n            key: 'commodityPrice'\n          },\n          {\n            title: '商品进货价',\n            key: 'commodityCost'\n          }\n        ],\n        commodityList:[],//查询的商品数据\n        page:0,\n        initPage:1,\n        pageData:{\n          pageIdx:0,\n          pageSize:10,\n        },\n        hotelId:'',\n        changeCommodity:[],//已选中的商品\n        onChangesCommodity:[],//当前页数选中的值\n        changeCommodityShow:false,\n        commoditySaveDate:[],//保存页数据\n        new_commoditySaveDate:[],//需要保存页数据\n        //保存页的列\n        commoditySaveColumns:[\n          {\n            title: '类型',\n            key: 'categoryName'\n          },\n          {\n            title: '商品名称',\n            key: 'commodityName',\n            render:(h,params) =>{\n              return h('Tooltip',{\n                props:{\n                  placement:'top'\n                }\n              },[\n                h('a', params.row.commodityName),[\n                  h('div',{\n                    slot:'content'\n                  },[\n                    h('img',{\n                      attrs:{\n                        src: params.row.commodityImg \n                      },\n                      style:{\n                        width: '120px',\n                        height: '120px'\n                      }\n                    },''),\n                  ])\n                ]\n              ])\n            }\n          },\n          {\n            title: '商品概要',\n            key: 'commoditySynopsis'\n          },\n          {\n            title: '商品售价',\n            key: 'commodityPrice'\n          },\n          {\n            title: '商品进货价',\n            key: 'commodityCost'\n          },\n          {\n            title: '商品库存',\n            key: 'commodityInventory',\n            render:(h,params) => {\n                return h('div',[\n                  h('InputNumber',{\n                    props:{\n                      value:params.row.commodityInventory,\n                      min:1,\n                    },\n                    on:{\n                      'on-change': (event) => {\n                        this.commoditySaveDate[params.index].commodityInventory = event\n                        this.$emit('InputNumber',event) \n                      }\n                    }\n                })\n              ])\n            }\n          },\n          {\n              title: 'Action',\n              key: '',\n              width: 90,\n              align: 'center',\n              fixed: 'right',\n              render: (h, params) => {\n                  return h('div', [\n                      h('Button', {\n                          props: {\n                              type: 'error',\n                              size: 'small',\n                              disabled:this.editType\n                          },\n                          on: {\n                              click: () => {\n                                  this.removeCommodity(params.index)\n                              }\n                          }\n                      }, '删除')\n                  ]);\n              },\n              renderHeader:(h,params) =>{\n                  return h('div',[\n                      h('Button',{\n                          props:{\n                              type:'primary',\n                              size:'small',\n                              disabled:this.editType\n                          },\n                          on:{\n                              click:() => {\n                                  this.addCommodity(params.index)\n                              }\n                          }\n                      },'添加')\n                  ])\n              }\n          }\n        ],\n      }\n    },\n    methods: {\n      get (uri) {\n        this.$store.dispatch('getGoods', {uri})\n      },\n      handleSave () {\n        this.selectOK()\n        let _this = this;\n        if(null == this.hotelId || \"\" == this.hotelId){\n          this.$Message.error(\"请选择门店！\")\n          return\n        }\n        let hotelCommodityList = this.new_commoditySaveDate\n        let new_hotelCommoditys = []\n        for(let i in hotelCommodityList){\n          new_hotelCommoditys.push(\n            {\n              hotelId:this.hotelId,\n              categoryCode:hotelCommodityList[i].commodityCategoryCode,\n              commodityCode:hotelCommodityList[i].commodityCode,\n              commodityInventory:hotelCommodityList[i].commodityInventory\n            }\n          )\n        }\n        \n        let data = {\n          hotelId:this.hotelId,\n          hotelCategoryList:this.categoryIn,\n          hotelCommoditylist:new_hotelCommoditys\n        }\n        console.log(JSON.stringify(data))\n        data = JSON.stringify(data)\n        new hotelCommodity().addPath('save').POST({data}).then((res)=>{\n          console.log(res)\n          if(res.data.data == \"ok\"){\n            this.changeCommodity=[]\n            this.onChangesCommodity=[]\n            this.new_commoditySaveDate=[]\n            \n            this.$Message.info('保存成功')\n\n          }else{\n            this.$Message.error('保存失败')\n          }\n        })\n        return\n        _this.$refs.formValidate.validate((valid) => {\n          if (valid) {\n            const action = _this.id ? 'putGoods' : 'postGoods'\n            const uri = _this.id\n\n            _this.$store.dispatch(action, {\n              uri,\n              data: _this.formValidate\n            }).then(() => {\n              _this.$Message.success((_this.id ? '编辑' : '新增') + '成功！')\n              !_this.id && _this.resetFields()\n            })\n          }\n        })\n      },\n      handleView (item) {\n          this.imgName = item;\n          this.visible = true;\n      },\n      resetFields () {\n        this.$refs.formValidate.resetFields()\n      },\n      serch(){\n        let _this = this\n        _this.loadingCommity = true\n        let params = {\n          pageIdx:_this.pageData.pageIdx,\n          pageSize:_this.pageData.pageSize,\n          categoryCodes:_this.categoryIn\n        }\n        new Commodity().addPath('in').GET({params:params}).then((res) =>{\n          if(res.data.success == true){\n            _this.page = res.data.data.totalElements\n            let result = res.data.data.content;\n            let commodityList = result\n            if(_this.commoditySaveDate.length > 0){\n              for(let e in commodityList){\n                for(let f in _this.commoditySaveDate){\n                  if(commodityList[e].commodityCode == _this.commoditySaveDate[f].commodityCode){\n                    console.log('sss')\n                    commodityList[e]._disabled = true;                    \n                  }\n                }\n              }\n            }\n            if(_this.changeCommodity.length > 0){\n                for(let h in commodityList){\n                    for(let j in _this.changeCommodity){\n                        if(commodityList[h].commodityCode == _this.changeCommodity[j].commodityCode){\n                            commodityList[h]._checked = true;\n                        }\n                    }\n                }   \n            }\n            _this.commodityList = commodityList\n            _this.loadingCommity = false\n          }else{\n            _this.$Message.error('查询失败！')\n            _this.loadingCommity = false\n          }\n        })\n      },\n      changePage(e){//翻页\n        this.selectOK()\n        this.initPage = e;\n        this.pageData.pageIdx = e-1\n        this.serch()\n      },\n      selectCommoidty(e){\n        this.onChangesCommodity = e\n        for(let a in this.commodityList){\n          this.commodityList[a]._checked = false;\n          for(let b in e){\n              if(this.commodityList[a].commodityCode == e[b].commodityCode){\n                  this.commodityList[a]._checked = true;\n              }\n          }\n        }\n      },\n      selectOK(){\n          for(var i in this.commodityList){\n            if(this.commodityList[i]._checked == true){\n                this.selectTab = false;\n                for(var j in this.changeCommodity){\n                    if(this.commodityList[i].commodityCode == this.changeCommodity[j].commodityCode){\n                        this.selectTab = true;\n                    }\n                }\n                if(!this.selectTab){\n                    this.changeCommodity.push(this.commodityList[i]);\n                }\n            }else{\n                for(var j in this.changeCommodity){\n                    if(this.commodityList[i].commodityCode == this.changeCommodity[j].commodityCode){\n                        this.changeCommodity.splice(j, 1);\n                    }\n                }  \n            }\n        }\n      },\n      addCommodity(){\n        if(this.categoryIn.length == 0){\n           this.$Message.error('请先选择商品类型！')\n           return\n        }\n        this.selectOK()\n        this.pageData ={\n          pageIdx:0,\n          pageSize:10,\n        },\n        this.initPage = 1;\n        this.serch()\n        this.changeCommodityShow = true\n      },\n      ok(){\n        this.selectOK()\n        this.new_commoditySaveDate = this.changeCommodity\n      },\n      cancel(){\n        this.changeCommodity = []\n        this.changeCommodityShow = false\n      },\n      removeCommodity(val){\n        console.log(val)\n        this.new_commoditySaveDate.splice(val,1)\n      },\n      changeHotel(){\n        console.log(this.hotelId);\n        let data = this.hotelId\n        new Commodity().addPath('hotelCommodity?hotelID=' + data).GET().then((res) =>{\n          console.log(res)\n          if(res.data.success == true){\n            this.commoditySaveDate = res.data.data\n          }\n        })\n      }\n    },\n    computed: mapState([\n      'goods',\n      'inn',\n      'dicttype'\n    ]),\n    watch: {\n      'goods.goods': {\n        handler (newVal) {\n          this.$set(this, 'formValidate', newVal.data)\n        }\n      },\n      'goodsPics':{\n        handler (newVal) {\n          let t_goodsPicUrls = [];\n\n          newVal.forEach(function (v, i) {\n            t_goodsPicUrls.push(consts.STATIC_URL+ '/goodsPic/' + v)\n          });\n\n          this.$set(this, 'goodsPicUrls', t_goodsPicUrls)\n          this.$set(this.formValidate, 'pic', newVal.join(\",\"))\n        }\n      }\n    }\n  }\n</script>\n\n\n<style lang=\"scss\">\n  .avatar {\n    width: 200px; \n    height: 280px;\n    background: #ffffff;\n    border-radius: 2px;\n    }\n\n  .demo-upload-list{\n      display: inline-block;\n      width: 60px;\n      height: 60px;\n      text-align: center;\n      line-height: 60px;\n      border: 1px solid transparent;\n      border-radius: 4px;\n      overflow: hidden;\n      background: #fff;\n      position: relative;\n      box-shadow: 0 1px 1px rgba(0,0,0,.2);\n      margin-right: 4px;\n  }\n  .demo-upload-list img{\n      width: 100%;\n      height: 100%;\n  }\n  .demo-upload-list-cover{\n      display: none;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      background: rgba(0,0,0,.6);\n  }\n  .demo-upload-list:hover .demo-upload-list-cover{\n      display: block;\n  }\n  .demo-upload-list-cover i{\n      color: #fff;\n      font-size: 20px;\n      cursor: pointer;\n      margin: 0 2px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// index.vue?7355a66e","require('../../modules/es6.number.parse-float');\nmodule.exports = parseFloat;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/number/parse-float.js\n// module id = quu5\n// module chunks = 16"],"sourceRoot":""}