webpackJsonp([19],{"2Ma4":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Modal",{attrs:{width:"300",title:"确认框"},on:{"on-ok":e.handleDelOk},model:{value:e.del.modal,callback:function(t){e.del.modal=t},expression:"del.modal"}},[a("p",[e._v("确认删除该记录？")])]),e._v(" "),a("Breadcrumb",{staticStyle:{display:"flex","padding-bottom":"20px"}},[a("Breadcrumb-item",{attrs:{href:"/"}},[e._v("首页")]),e._v(" "),a("Breadcrumb-item",{attrs:{href:"#"}},[e._v("字典管理")]),e._v(" "),a("Breadcrumb-item",{attrs:{href:"/dicts"}},[e._v("字典列表")]),e._v(" "),a("Breadcrumb-item",[e._v("字典"+e._s(e.id?"编辑":"新增"))])],1),e._v(" "),a("div",[a("Row",[a("Col",{attrs:{span:"16"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":120}},[e.id?a("FormItem",{attrs:{label:"订单号",prop:"orderNo"}},[a("Input",{attrs:{disabled:""},model:{value:e.formValidate.orderNo,callback:function(t){e.formValidate.orderNo=t},expression:"formValidate.orderNo"}})],1):e._e(),e._v(" "),a("FormItem",{attrs:{label:"门店",prop:"innCode"}},[a("Select",{attrs:{placeholder:"请选择输入门店",filterable:"",disabled:""},model:{value:e.formValidate.innCode,callback:function(t){e.formValidate.innCode=t},expression:"formValidate.innCode"}},e._l(e.inn.allinns,function(t){return a("Option",{key:t.code,attrs:{value:t.code}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"客人",prop:"guestName"}},[a("Input",{attrs:{disabled:""},model:{value:e.formValidate.guestName,callback:function(t){e.formValidate.guestName=t},expression:"formValidate.guestName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"订单金额",prop:"amount"}},[a("Input",{attrs:{disabled:""},model:{value:e.formValidate.amount,callback:function(t){e.formValidate.amount=t},expression:"formValidate.amount"}})],1),e._v(" "),a("FormItem",{attrs:{label:"备注",prop:"remark"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},disabled:""},model:{value:e.formValidate.remark,callback:function(t){e.formValidate.remark=t},expression:"formValidate.remark"}})],1),e._v(" "),a("FormItem",{attrs:{label:"商品列表"}},[a("Table",{attrs:{columns:e.goods_columns,data:e.formValidate.orderDetails}})],1),e._v(" "),a("FormItem",{attrs:{label:"取消原因",prop:"delRemark"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5}},model:{value:e.formValidate.delRemark,callback:function(t){e.formValidate.delRemark=t},expression:"formValidate.delRemark"}})],1),e._v(" "),a("Form-item",[a("Button",{staticClass:"margin-right-sm",attrs:{type:"warning"},on:{click:e.handleDel}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:function(t){e.$router.back(-1)}}},[e._v("返回")])],1)],1)],1)],1)],1)],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},"5f4I":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("NYxO"),o=a("ZA0d");!function(e){e&&e.__esModule}(o);t.default={name:"form",created:function(){if(this.inn.allinns.length<=0){this.$store.dispatch("getAllInns",{uri:"all"})}this.id=this.$route.params.id,this.id&&this.get(this.id)},data:function(){return{del:{modal:!1},id:"",formValidate:{orderNo:"",innCode:"",guestName:"",amount:0,delRemark:"",orderDetails:[]},goods_columns:[{title:"商品名称",key:"goodsName"},{title:"单价(元)",key:"salePrice"},{title:"数量",key:"qty"}],ruleValidate:{delRemark:[{required:!0,message:"取消原因不能为空"},{max:200,message:"取消原因不能多于 200 个字"}]}}},methods:{get:function(e){this.$store.dispatch("getOrder",{uri:e})},handleSave:function(){var e=this;e.$refs.formValidate.validate(function(t){if(t){var a=e.id?"putOrder":"postOrder",r=e.id;e.$store.dispatch(a,{uri:r,data:e.formValidate}).then(function(){e.$Message.success((e.id?"编辑":"新增")+"成功！"),!e.id&&e.resetFields()})}})},resetFields:function(){this.$refs.formValidate.resetFields()},handleDel:function(e){var t=this;t.$refs.formValidate.validate(function(e){e&&t.$set(t.del,"modal",!0)})},handleDelOk:function(){var e=this;this.$store.dispatch("deleteOrder",{params:{orderNo:this.formValidate.orderNo,delRemark:this.formValidate.delRemark}}).then(function(){e.$Message.success("删除成功！"),e.$router.back(-1)})}},computed:(0,r.mapState)(["order","inn"]),watch:{"order.order":{handler:function(e){this.$set(this,"formValidate",e.data)}}}}},B1S3:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".avatar{width:200px;height:280px;background:#fff;border-radius:2px}","",{version:3,sources:["E:/Bee/YumiButler.git/WebUI/src/app/Orders/Form/index.vue"],names:[],mappings:"AACA,QACE,YAAa,AACb,aAAc,AACd,gBAAoB,AACpB,iBAAmB,CACpB",file:"index.vue",sourcesContent:["\n.avatar {\n  width: 200px;\n  height: 280px;\n  background: #ffffff;\n  border-radius: 2px;\n}\n"],sourceRoot:""}])},FNFT:function(e,t,a){"use strict";function r(e){a("I+IO")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("5f4I"),i=a.n(o),l=a("2Ma4"),d=a("VU/8"),s=r,n=d(i.a,l.a,s,null,null);t.default=n.exports},"I+IO":function(e,t,a){var r=a("B1S3");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("377a3069",r,!0)}});
//# sourceMappingURL=19.d3a8522fe36329f10a13.js.map